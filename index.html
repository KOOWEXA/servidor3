<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VENTA ONLINE DE TODO UN POCO</title>
  <style>
    :root{--c1:#e63946;--c2:#2a9d8f;--c3:#1d3557;--bg:#f9f9f9;--card:#fff}
    *,::before,::after{box-sizing:border-box}
    body{font-family:system-ui,sans-serif;background:var(--bg);margin:0;padding:0}
    header{background:white;padding:16px;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,0.1);margin-bottom:20px}
    .header-content{display:flex;align-items:center;justify-content:center;gap:12px}
    .logo{width:50px;height:50px;border-radius:50%;object-fit:cover}
    h1{color:var(--c1);margin:0;font-size:1.8rem}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px;padding:12px}
    .prod{background:var(--card);border:1px solid #eee;border-radius:6px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,0.05)}
    .prod-img{aspect-ratio:1/1;width:100%;cursor:pointer}
    .prod-img img{width:100%;height:100%;object-fit:cover;display:block}
    .prod>div{padding:10px 12px}
    .prod h3{font-size:0.95rem;margin:4px 0;font-weight:600}
    .price{color:var(--c2);font-weight:700;font-size:1.1rem}
    .stock{font-size:0.85rem;color:#777;margin:4px 0}
    .btn{display:block;width:100%;padding:6px;border:none;border-radius:4px;font-weight:600;cursor:pointer}
    .btn.add{background:var(--c3);color:white}
    .btn.add:hover{opacity:0.9}
    .btn.add:disabled{background:#aaa;cursor:not-allowed}
    .cart{position:fixed;top:0;right:-320px;width:300px;height:100vh;background:white;box-shadow:-2px 0 10px rgba(0,0,0,0.1);padding:16px;transition:0.3s;z-index:1000}
    .cart.open{right:0}
    .cart h2{margin:0 0 16px;font-size:1.3rem}
    .close{float:right;font-size:1.4rem;cursor:pointer}
    .items{max-height:70vh;overflow:auto;padding-right:4px}
    .item{display:flex;justify-content:space-between;padding:6px 0;font-size:0.9rem}
    .total{font-weight:700;margin:12px 0;border-top:1px solid #eee;padding-top:8px}
    .form{margin-top:16px}
    .form div{margin:8px 0}
    label{display:block;font-weight:600;font-size:0.85rem;margin-bottom:2px}
    input{width:100%;padding:6px;border:1px solid #ccc;border-radius:4px}
    .submit{background:var(--c3);color:white;padding:8px;border:none;border-radius:4px;width:100%;margin-top:8px;font-weight:600}
    .overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:2000;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity 0.25s}
    .overlay.show{opacity:1;pointer-events:auto}
    .overlay img{max-width:90vw;max-height:90vh;object-fit:contain}
    .cart-btn{position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--c1);color:white;border:none;box-shadow:0 3px 8px rgba(0,0,0,0.3);font-size:1.4rem;cursor:pointer;z-index:999}
    .cart-count{position:absolute;top:-6px;right:-6px;background:#fff;color:var(--c1);border-radius:50%;width:20px;height:20px;font-size:0.7rem;display:flex;align-items:center;justify-content:center}
    footer{background:var(--c3);color:white;padding:20px;text-align:center;margin-top:30px}
    .footer-content{max-width:800px;margin:0 auto}
    .footer-section{margin-bottom:15px}
    .footer-section h3{color:var(--c2);margin-bottom:8px;font-size:1.1rem}
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <img src="https://github.com/KOOWEXA/servidor3/raw/refs/heads/main/logo.jpg" alt="Logo" class="logo">
      <h1>VENTA ONLINE DE TODO UN POCO</h1>
    </div>
  </header>

  <div id="grid" class="grid"></div>
  <button id="cartBtn" class="cart-btn">üõí<span id="cartBadge" class="cart-count">0</span></button>

  <aside id="cart" class="cart">
    <span class="close" id="closeCart">&times;</span>
    <h2>Carrito</h2>
    <div id="cartItems" class="items"></div>
    <div id="cartTotal" class="total"></div>
    <form id="form" class="form">
      <div><label>Nombre</label><input id="name" required></div>
      <div><label>Tel√©fono</label><input id="phone" type="tel" required></div>
      <div><label>CI</label><input id="ci" required></div>
      <button type="submit" class="submit">WhatsApp</button>
    </form>
  </aside>

  <div id="overlay" class="overlay">
    <img id="modalImg">
  </div>

  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Horario de Atenci√≥n</h3>
        <p>Todos los d√≠as: 9:00 AM - 6:00 PM</p>
      </div>
      <div class="footer-section">
        <h3>Ubicaci√≥n</h3>
        <p>Praga 3830/ Rico y Ciudamar reparto Zich San Miguel del Padr√≥n</p>
      </div>
    </div>
  </footer>

  <script>
    const products = [
      {id:1,name:"Sandalias DNY",stock:10,price:35,currency:"USD",image:"pd1.jpg"},
      {id:2,name:"Sandalias kelvin klein",stock:10,price:35,currency:"USD",image:"pd2.jpg"},
      {id:3,name:"Cartera luis viutoon de 29x21cm",stock:10,price:70,currency:"USD",image:"pd3.jpg"},
      {id:4,name:"Monedero Guess color rojo",stock:10,price:35,currency:"USD",image:"pd4.jpg"},
      {id:5,name:"Monedero Tous color rosa claro ,moradito claro y rosa fucsia",stock:10,price:35,currency:"USD",image:"pd5.jpg"},
      {id:6,name:"Tenis negros  air force de varios numeros",stock:10,price:130,currency:"USD",image:"pd6.jpg"},
      {id:7,name:"Tenis Adidas en colores #39",stock:10,price:130,currency:"USD",image:"pd7.jpg"},
      {id:8,name:"Chaqueta de vinil negra",stock:10,price:40,currency:"USD",image:"pd8.jpg"},
      {id:9,name:"Chaqueta de mezclilla azul clarita",stock:10,price:35,currency:"USD",image:"pd9.jpg"},
      {id:10,name:"Juegos de pulober y saya miu miu, excelente tela",stock:10,price:60,currency:"USD",image:"pd10.jpg"},
      {id:11,name:"Juego Zara de colores",stock:10,price:45,currency:"USD",image:"pd11.jpg"},
      {id:12,name:"Short de hombre de informal talla L",stock:10,price:25,currency:"USD",image:"pd12.jpg"},
      {id:13,name:"Pantaloneta Zara blanca y negra talla M",stock:10,price:30,currency:"USD",image:"pd13.jpg"},
      {id:14,name:"Tenis Nike original blanco y negro, buen confort",stock:10,price:130,currency:"USD",image:"pd14.jpg"},
      {id:15,name:"Bermuda de Mezclilla azul claro para algo una ocasi√≥n informal talla M",stock:10,price:35,currency:"USD",image:"pd15.jpg"},
      {id:16,name:"Los perfumes arabes est√°n partiendo la liga de la perfumeria",stock:10,price:65,currency:"USD",image:"pd16.jpg"},
      {id:17,name:"Licra de algod√≥n muy buena tela para el gyn de talla s,m",stock:10,price:35,currency:"USD",image:"pd17.jpg"},
      {id:18,name:"Top oasis talla S color negro",stock:10,price:25,currency:"USD",image:"pd18.jpg"},
      {id:19,name:"Bolso de mano jord√°n en negro con el jord√°n en rojo",stock:10,price:40,currency:"USD",image:"pd19.jpg"},
      {id:20,name:"Medias de algod√≥n originales en varios colores",stock:10,price:6,currency:"USD",image:"pd20.jpg"}
    ];

    let cart = [];
    const grid = document.getElementById('grid');
    const cartEl = document.getElementById('cart');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const cartBtn = document.getElementById('cartBtn');
    const closeBtn = document.getElementById('closeCart');
    const overlay = document.getElementById('overlay');
    const modalImg = document.getElementById('modalImg');
    const badge = document.getElementById('cartBadge');

    const createProduct = p => {
      const div = document.createElement('div');
      div.className = 'prod';
      div.innerHTML = `
        <div class="prod-img" data-src="${p.image}">
          <img src="${p.image}" loading="lazy">
        </div>
        <div>
          <h3>${p.name}</h3>
          <div class="price">${p.price} ${p.currency}</div>
          <div class="stock">Stock: ${p.stock > 0 ? p.stock : 'AGOTADO'}</div>
          <button class="btn add" ${p.stock <= 0 ? 'disabled' : ''} data-id="${p.id}">‚ûï Agregar</button>
        </div>
      `;
      return div;
    };

    products.forEach(p => grid.appendChild(createProduct(p)));

    const updateCartBadge = () => {
      const count = cart.reduce((sum, item) => sum + item.quantity, 0);
      badge.textContent = count || '';
      badge.style.display = count ? 'flex' : 'none';
    };

    const updateCart = () => {
      cartItems.innerHTML = '';
      if (!cart.length) {
        cartItems.innerHTML = '<p style="color:#999;text-align:center;margin-top:20px">Vac√≠o</p>';
        cartTotal.textContent = '';
        return;
      }
      let total = 0;
      cart.forEach(item => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;
        const div = document.createElement('div');
        div.className = 'item';
        div.innerHTML = `
          <span>${item.name.slice(0,18)}${item.name.length>18?'‚Ä¶':''} √ó${item.quantity}</span>
          <span>${itemTotal} ${item.currency}</span>
        `;
        cartItems.appendChild(div);
      });
      cartTotal.textContent = `Total: $${total.toFixed(2)}`;
    };

    const addToCart = id => {
      const p = products.find(x => x.id === id);
      if (!p || p.stock <= 0) return;
      const item = cart.find(x => x.id === id);
      if (item) item.quantity += 1;
      else cart.push({...p, quantity: 1});
      updateCart();
      updateCartBadge();
      cartEl.classList.add('open');
    };

    const send = e => {
      e.preventDefault();
      if (!cart.length) return alert('Carrito vac√≠o');
      const name = document.getElementById('name').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const ci = document.getElementById('ci').value.trim();
      if (!name || !phone || !ci) return alert('Completa los datos');
      let msg = `¬°Nuevo pedido!%0A%0ACliente: ${name}%0ACI: ${ci}%0ATel: ${phone}%0A%0A`;
      let total = 0;
      cart.forEach(i => {
        const t = i.price * i.quantity;
        total += t;
        msg += `‚Ä¢ ${i.name} √ó${i.quantity} = $${t}%0A`;
      });
      msg += `%0ATotal: $${total.toFixed(2)}%0A%0A¬°Gracias!`;
      window.open(`https://wa.me/5355113276?text=${encodeURIComponent(msg)}`, '_blank');
    };

    grid.addEventListener('click', e => {
      const btn = e.target.closest('.add');
      if (btn && !btn.disabled) addToCart(+btn.dataset.id);
      
      const imgWrapper = e.target.closest('.prod-img');
      if (imgWrapper) {
        modalImg.src = imgWrapper.dataset.src;
        overlay.classList.add('show');
      }
    });

    cartBtn.onclick = () => cartEl.classList.add('open');
    closeBtn.onclick = () => cartEl.classList.remove('open');
    overlay.onclick = e => {
      if (e.target === overlay) overlay.classList.remove('show');
    };
    document.getElementById('form').onsubmit = send;

    updateCart();
    updateCartBadge();
  </script>
</body>
</html>